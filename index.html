<!DOCTYPE html>
<html lang="pt-BR">
<head>
Â  Â  <meta charset="UTF-8" />
Â  Â  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
Â  Â  <title>RGWaradam</title>
Â  Â  <style>
Â  Â  Â  Â  /* Estilos ORIGINAIS */
Â  Â  Â  Â  body {
Â  Â  Â  Â  Â  Â  margin: 0;
Â  Â  Â  Â  Â  Â  font-family: "Inter", sans-serif;
Â  Â  Â  Â  Â  Â  background-color: #0f0f0f;
Â  Â  Â  Â  Â  Â  color: #f0f0f0;
Â  Â  Â  Â  Â  Â  transition: background-color 0.3s, color 0.3s; /* Adicionado para transiÃ§Ã£o suave */
Â  Â  Â  Â  }

Â  Â  Â  Â  h1 {
Â  Â  Â  Â  Â  Â  text-align: center;
Â  Â  Â  Â  Â  Â  margin-top: 30px;
Â  Â  Â  Â  Â  Â  font-weight: 600;
Â  Â  Â  Â  }

Â  Â  Â  Â  .buttons {
Â  Â  Â  Â  Â  Â  text-align: center;
Â  Â  Â  Â  Â  Â  margin: 20px 0;
Â  Â  Â  Â  }
Â  Â  Â  Â  
Â  Â  Â  Â  /* ğŸš€ NOVO CÃ“DIGO AQUI: Estilo para botÃµes e seletor (unificado) */
Â  Â  Â  Â  .buttons button, .buttons select {
Â  Â  Â  Â  Â  Â  background-color: #1a1a1a;
Â  Â  Â  Â  Â  Â  color: #fff;
Â  Â  Â  Â  Â  Â  border: none;
Â  Â  Â  Â  Â  Â  padding: 10px 20px;
Â  Â  Â  Â  Â  Â  margin: 5px;
Â  Â  Â  Â  Â  Â  border-radius: 8px;
Â  Â  Â  Â  Â  Â  cursor: pointer;
Â  Â  Â  Â  Â  Â  transition: 0.3s;
Â  Â  Â  Â  Â  Â  appearance: none;
Â  Â  Â  Â  Â  Â  -webkit-appearance: none;
Â  Â  Â  Â  Â  Â  -moz-appearance: none;
Â  Â  Â  Â  Â  Â  min-width: 150px;
Â  Â  Â  Â  Â  Â  text-align: center;
Â  Â  Â  Â  }
Â  Â  Â  Â  /* FIM NOVO CÃ“DIGO */

Â  Â  Â  Â  .buttons button:hover, .buttons select:hover { background-color: #333; }
Â  Â  Â  Â  .buttons button.active { background-color: #555; }

Â  Â  Â  Â  .gallery {
Â  Â  Â  Â  Â  Â  display: flex;
Â  Â  Â  Â  Â  Â  flex-wrap: wrap;
Â  Â  Â  Â  Â  Â  justify-content: center;
Â  Â  Â  Â  Â  Â  gap: 25px;
Â  Â  Â  Â  Â  Â  padding: 40px;
Â  Â  Â  Â  Â  Â  max-width: 1400px;
Â  Â  Â  Â  Â  Â  margin: 0 auto;
Â  Â  Â  Â  }

Â  Â  Â  Â  .game-card {
Â  Â  Â  Â  Â  Â  background-color: #1a1a1a;
Â  Â  Â  Â  Â  Â  border-radius: 15px;
Â  Â  Â  Â  Â  Â  overflow: hidden;
Â  Â  Â  Â  Â  Â  cursor: pointer;
Â  Â  Â  Â  Â  Â  transition: transform 0.3s ease, box-shadow 0.3s ease;
Â  Â  Â  Â  Â  Â  position: relative;
Â  Â  Â  Â  Â  Â  display: none;
Â  Â  Â  Â  Â  Â  width: 500px;
Â  Â  Â  Â  }

Â  Â  Â  Â  .game-card:hover {
Â  Â  Â  Â  Â  Â  transform: translateY(-4px);
Â  Â  Â  Â  Â  Â  box-shadow: 0 4px 12px rgba(255, 255, 255, 0.1);
Â  Â  Â  Â  }

Â  Â  Â  Â  .game-card img {
Â  Â  Â  Â  Â  Â  width: 100%;
Â  Â  Â  Â  Â  Â  height: auto;
Â  Â  Â  Â  Â  Â  object-fit: contain;
Â  Â  Â  Â  Â  Â  display: block;
Â  Â  Â  Â  Â  Â  background-color: #000;
Â  Â  Â  Â  }

Â  Â  Â  Â  /* Status especÃ­ficos */
Â  Â  Â  Â  .game-card[data-status="nao-joguei"] img {
Â  Â  Â  Â  Â  Â  filter: grayscale(100%);
Â  Â  Â  Â  Â  Â  opacity: 0.6;
Â  Â  Â  Â  }
Â  Â  Â  Â  .game-card[data-status="jogando"] img { filter: grayscale(40%); }
Â  Â  Â  Â  .game-card[data-status="dropado"] img {
Â  Â  Â  Â  Â  Â  filter: grayscale(50%) sepia(30%) hue-rotate(250deg) saturate(80%);
Â  Â  Â  Â  Â  Â  opacity: 0.7;
Â  Â  Â  Â  }

Â  Â  Â  Â  .game-info {
Â  Â  Â  Â  Â  Â  padding: 15px;
Â  Â  Â  Â  Â  Â  text-align: center;
Â  Â  Â  Â  Â  Â  background-color: #1a1a1a;
Â  Â  Â  Â  }

Â  Â  Â  Â  .game-info h3 {
Â  Â  Â  Â  Â  Â  margin: 5px 0 0 0;
Â  Â  Â  Â  Â  Â  font-size: 18px;
Â  Â  Â  Â  Â  Â  color: #f0f0f0;
Â  Â  Â  Â  Â  Â  font-weight: 500;
Â  Â  Â  Â  }

Â  Â  Â  Â  .status-tag {
Â  Â  Â  Â  Â  Â  position: absolute;
Â  Â  Â  Â  Â  Â  top: 10px;
Â  Â  Â  Â  Â  Â  left: 10px;
Â  Â  Â  Â  Â  Â  background-color: rgba(0,0,0,0.7);
Â  Â  Â  Â  Â  Â  color: #fff;
Â  Â  Â  Â  Â  Â  padding: 6px 10px;
Â  Â  Â  Â  Â  Â  border-radius: 12px;
Â  Â  Â  Â  Â  Â  font-size: 12px;
Â  Â  Â  Â  Â  Â  text-transform: uppercase;
Â  Â  Â  Â  }

Â  Â  Â  Â  .modal {
Â  Â  Â  Â  Â  Â  display: none;
Â  Â  Â  Â  Â  Â  position: fixed;
Â  Â  Â  Â  Â  Â  z-index: 100;
Â  Â  Â  Â  Â  Â  left: 0;
Â  Â  Â  Â  Â  Â  top: 0;
Â  Â  Â  Â  Â  Â  width: 100%;
Â  Â  Â  Â  Â  Â  height: 100%;
Â  Â  Â  Â  Â  Â  overflow-y: auto;
Â  Â  Â  Â  Â  Â  background-color: rgba(0, 0, 0, 0.85);
Â  Â  Â  Â  Â  Â  backdrop-filter: blur(4px);
Â  Â  Â  Â  }

Â  Â  Â  Â  .modal-content {
Â  Â  Â  Â  Â  Â  background-color: #1a1a1a;
Â  Â  Â  Â  Â  Â  margin: 5% auto;
Â  Â  Â  Â  Â  Â  padding: 30px;
Â  Â  Â  Â  Â  Â  border-radius: 15px;
Â  Â  Â  Â  Â  Â  max-width: 800px;
Â  Â  Â  Â  Â  Â  color: #ddd;
Â  Â  Â  Â  Â  Â  transition: background-color 0.3s, color 0.3s; /* Adicionado para transiÃ§Ã£o suave */
Â  Â  Â  Â  }
Â  Â  Â  Â Â 
Â  Â  Â  Â  /* ğŸš€ AJUSTES FINOS PARA O TEXTO DA REVIEW */
Â  Â  Â  Â  #modal-review {
Â  Â  Â  Â  Â  Â  line-height: 1.6;Â 
Â  Â  Â  Â  Â  Â  margin-top: 10px;
Â  Â  Â  Â  Â  Â  margin-bottom: 20px;
Â  Â  Â  Â  Â  Â  text-align: left;
Â  Â  Â  Â  Â  Â  font-size: 16px;Â 
Â  Â  Â  Â  Â  Â  padding: 0 10px;Â 
Â  Â  Â  Â  Â  Â  color: #f0f0f0;Â 
Â  Â  Â  Â  Â  Â  transition: color 0.3s; /* Adicionado para transiÃ§Ã£o suave */
Â  Â  Â  Â  }
Â  Â  Â  Â  /* -------------------------------------------------------------------------- */


Â  Â  Â  Â  .close-btn {
Â  Â  Â  Â  Â  Â  color: #aaa;
Â  Â  Â  Â  Â  Â  float: right;
Â  Â  Â  Â  Â  Â  font-size: 22px;
Â  Â  Â  Â  Â  Â  font-weight: bold;
Â  Â  Â  Â  Â  Â  cursor: pointer;
Â  Â  Â  Â  }
Â  Â  Â  Â  .close-btn:hover { color: #fff; }

Â  Â  Â  Â  .screenshots {
Â  Â  Â  Â  Â  Â  display: flex;
Â  Â  Â  Â  Â  Â  gap: 10px;
Â  Â  Â  Â  Â  Â  margin-top: 20px;
Â  Â  Â  Â  Â  Â  overflow-x: auto;
Â  Â  Â  Â  }

Â  Â  Â  Â  .screenshots img {
Â  Â  Â  Â  Â  Â  width: 180px;
Â  Â  Â  Â  Â  Â  border-radius: 10px;
Â  Â  Â  Â  Â  Â  flex-shrink: 0;
Â  Â  Â  Â  Â  Â  cursor: pointer;
Â  Â  Â  Â  Â  Â  transition: filter 0.5s ease;
Â  Â  Â  Â  }
Â  Â  Â  Â Â 
Â  Â  Â  Â  /* Estilo para miniaturas de spoiler */
Â  Â  Â  Â  .screenshots img.spoiler-thumbnail {
Â  Â  Â  Â  Â  Â  filter: blur(8px);
Â  Â  Â  Â  Â  Â  border: 2px solid #e50914; 
Â  Â  Â  Â  Â  Â  opacity: 0.8;
Â  Â  Â  Â  Â  Â  transition: none;
Â  Â  Â  Â  }
Â  Â  Â  Â Â 
Â  Â  Â  Â  /* Container Fullscreen Spoiler */
Â  Â  Â  Â  #fullscreen-overlay {
Â  Â  Â  Â  Â  Â  position: fixed;
Â  Â  Â  Â  Â  Â  top: 0; left: 0;
Â  Â  Â  Â  Â  Â  width: 100%; height: 100%;
Â  Â  Â  Â  Â  Â  background: rgba(0,0,0,0.9);
Â  Â  Â  Â  Â  Â  display: flex;
Â  Â  Â  Â  Â  Â  align-items: center;
Â  Â  Â  Â  Â  Â  justify-content: center;
Â  Â  Â  Â  Â  Â  z-index: 200;
Â  Â  Â  Â  Â  Â  backdrop-filter: blur(4px);
Â  Â  Â  Â  }
Â  Â  Â  Â Â 
Â  Â  Â  Â  /* Overlay de senha na imagem fullscreen */
Â  Â  Â  Â  .fullscreen-spoiler-overlay {
Â  Â  Â  Â  Â  Â  position: absolute;
Â  Â  Â  Â  Â  Â  top: 0; left: 0;
Â  Â  Â  Â  Â  Â  width: 100%; height: 100%;
Â  Â  Â  Â  Â  Â  background-color: rgba(0, 0, 0, 0.85);
Â  Â  Â  Â  Â  Â  color: white;
Â  Â  Â  Â  Â  Â  display: flex;
Â  Â  Â  Â  Â  Â  flex-direction: column;
Â  Â  Â  Â  Â  Â  justify-content: center;
Â  Â  Â  Â  Â  Â  align-items: center;
Â  Â  Â  Â  Â  Â  text-align: center;
Â  Â  Â  Â  Â  Â  z-index: 250;
Â  Â  Â  Â  Â  Â  transition: opacity 0.5s ease;
Â  Â  Â  Â  }
Â  Â  Â  Â Â 
Â  Â  Â  Â  /* Classes para esconder o overlay */
Â  Â  Â  Â  .fullscreen-spoiler-overlay.hidden {
Â  Â  Â  Â  Â  Â  opacity: 0;
Â  Â  Â  Â  Â  Â  pointer-events: none;
Â  Â  Â  Â  }

Â  Â  Â  Â  .fullscreen-spoiler-overlay p { margin: 5px 0; font-size: 16px; font-weight: bold; }
Â  Â  Â  Â  .fullscreen-spoiler-overlay input {Â 
Â  Â  Â  Â  Â  Â  padding: 8px;Â 
Â  Â  Â  Â  Â  Â  margin: 10px 0;Â 
Â  Â  Â  Â  Â  Â  border-radius: 5px;
Â  Â  Â  Â  Â  Â  border: 1px solid #555;
Â  Â  Â  Â  Â  Â  background-color: #222;
Â  Â  Â  Â  Â  Â  color: #fff;
Â  Â  Â  Â  Â  Â  text-align: center;
Â  Â  Â  Â  }
Â  Â  Â  Â  .fullscreen-spoiler-overlay button {
Â  Â  Â  Â  Â  Â  padding: 8px 15px;
Â  Â  Â  Â  Â  Â  background-color: #e50914;
Â  Â  Â  Â  Â  Â  color: #fff;
Â  Â  Â  Â  Â  Â  border: none;
Â  Â  Â  Â  Â  Â  border-radius: 5px;
Â  Â  Â  Â  Â  Â  cursor: pointer;
Â  Â  Â  Â  }
Â  Â  Â  Â  .fullscreen-spoiler-overlay button:hover { background-color: #f4061a; }

Â  Â  Â  Â  /* Estilo da imagem no fullscreen */
Â  Â  Â  Â  .fullscreen-img {
Â  Â  Â  Â  Â  Â  max-width: 90%;
Â  Â  Â  Â  Â  Â  max-height: 90%;
Â  Â  Â  Â  Â  Â  border-radius: 10px;
Â  Â  Â  Â  Â  Â  transition: filter 0.5s ease;
Â  Â  Â  Â  }
Â  Â  Â  Â Â 
Â  Â  Â  Â  /* O overlay Ã© o parente da imagem, entÃ£o se ele estiver aberto, o clique deve ser na imagem */
Â  Â  Â  Â  .fullscreen-img.blurred {
Â  Â  Â  Â  Â  Â  filter: blur(40px);
Â  Â  Â  Â  Â  Â  transition: none;
Â  Â  Â  Â  }

Â  Â  Â  Â  /* Classes de navegaÃ§Ã£o */
Â  Â  Â  Â  .gallery-arrow {
Â  Â  Â  Â  Â  Â  position: fixed;
Â  Â  Â  Â  Â  Â  top: 50%;
Â  Â  Â  Â  Â  Â  transform: translateY(-50%);
Â  Â  Â  Â  Â  Â  color: white;
Â  Â  Â  Â  Â  Â  font-size: 40px;
Â  Â  Â  Â  Â  Â  cursor: pointer;
Â  Â  Â  Â  Â  Â  padding: 10px;
Â  Â  Â  Â  Â  Â  user-select: none;
Â  Â  Â  Â  Â  Â  background: rgba(0,0,0,0.4);
Â  Â  Â  Â  Â  Â  border-radius: 50%;
Â  Â  Â  Â  Â  Â  z-index: 300;
Â  Â  Â  Â  }
Â  Â  Â  Â  .gallery-arrow:hover { background: rgba(255,255,255,0.2); }
Â  Â  Â  Â  .arrow-left { left: 20px; }
Â  Â  Â  Â  .arrow-right { right: 20px; }

Â  Â  Â  Â  @media (max-width: 700px) {
Â  Â  Â  Â  Â  Â  .game-card { width: 90%; }
Â  Â  Â  Â  Â  Â  .screenshots img { width: 140px; }
Â  Â  Â  Â  }
Â  Â  Â  Â  
Â  Â  Â  Â  /* ğŸš€ NOVO CÃ“DIGO AQUI: ESTILOS DE ACESSIBILIDADE ğŸš€ */

Â  Â  Â  Â  /* 1. MODO ALTO CONTRASTE (Fundo Escuro Suave / Texto Verde-Ãgua) */
Â  Â  Â  Â  .high-contrast {
Â  Â  Â  Â  Â  Â  background-color: #121212 !important; 
Â  Â  Â  Â  Â  Â  color: #90EE90 !important; /* Verde-Ã¡gua suave */
Â  Â  Â  Â  }

Â  Â  Â  Â  /* Containers internos do Modo Alto Contraste */
Â  Â  Â  Â  .high-contrast .buttons button,
Â  Â  Â  Â  .high-contrast .buttons select,
Â  Â  Â  Â  .high-contrast .game-card,
Â  Â  Â  Â  .high-contrast .game-info,
Â  Â  Â  Â  .high-contrast .modal-content {
Â  Â  Â  Â  Â  Â  background-color: #1E1E1E !important; 
Â  Â  Â  Â  Â  Â  color: #90EE90 !important;
Â  Â  Â  Â  }
Â  Â  Â  Â  .high-contrast .buttons button:hover, .high-contrast .buttons select:hover {
Â  Â  Â  Â  Â  Â  background-color: #353535 !important;
Â  Â  Â  Â  }

Â  Â  Â  Â  /* 2. MODO PAPEL (SEPÃA) (Fundo Claro Suave / Texto Escuro Suave) */
Â  Â  Â  Â  .sepia {
Â  Â  Â  Â  Â  Â  background-color: #FBF3E8 !important; /* Fundo Sepia/Bege */
Â  Â  Â  Â  Â  Â  color: #2A2A2A !important; /* Texto Escuro */
Â  Â  Â  Â  }

Â  Â  Â  Â  /* Containers internos do Modo Sepia */
Â  Â  Â  Â  .sepia .buttons button,
Â  Â  Â  Â  .sepia .buttons select,
Â  Â  Â  Â  .sepia .game-card,
Â  Â  Â  Â  .sepia .game-info,
Â  Â  Â  Â  .sepia .modal-content {
Â  Â  Â  Â  Â  Â  background-color: #EDE4D8 !important; 
Â  Â  Â  Â  Â  Â  color: #2A2A2A !important;
Â  Â  Â  Â  }
Â  Â  Â  Â  .sepia .buttons button:hover, .sepia .buttons select:hover {
Â  Â  Â  Â  Â  Â  background-color: #D6D0C5 !important;
Â  Â  Â  Â  }

Â  Â  Â  Â  /* Ajuste para o texto da review no modal */
Â  Â  Â  Â  .high-contrast #modal-review,
Â  Â  Â  Â  .sepia #modal-review {
Â  Â  Â  Â  Â  Â  color: inherit !important; /* Herda a cor do texto do body/modal */
Â  Â  Â  Â  }
Â  Â  Â  Â  /* FIM NOVO CÃ“DIGO */

Â  Â  </style>
</head>
<body>
Â  Â  <h1>ğŸ® Reviews & Screenshots</h1>

Â  Â  <div class="buttons">
Â  Â  Â  Â  <button class="active" onclick="filterGames('jogando', event)">Jogando</button>
Â  Â  Â  Â  <button onclick="filterGames('zerado', event)">Zerados</button>
Â  Â  Â  Â  <button onclick="filterGames('dropado', event)">Dropado</button>
Â  Â  Â  Â  <button onclick="filterGames('nao-joguei', event)">NÃ£o comecei</button>

Â  Â  Â  Â  Â  Â  Â  Â  <select onchange="setVisualMode(this.value)" id="visual-mode-select">
Â  Â  Â  Â  Â  Â  <option value="default">VisualizaÃ§Ã£o PadrÃ£o</option>
Â  Â  Â  Â  Â  Â  <option value="high-contrast">Alto Contraste</option>
Â  Â  Â  Â  Â  Â  <option value="sepia">Modo Papel (Sepia)</option>
Â  Â  Â  Â  </select>
Â  Â  Â  Â  Â  Â  </div>

Â  Â  <div class="gallery" id="game-gallery">
Â  Â  Â  Â  </div>

Â  Â  <div id="modal" class="modal">
Â  Â  Â  Â  <div class="modal-content">
Â  Â  Â  Â  Â  Â  <span class="close-btn">&times;</span>
Â  Â  Â  Â  Â  Â  <h2 id="modal-title"></h2>
Â  Â  Â  Â  Â  Â  <p><strong>Nota:</strong> <span id="modal-nota"></span></p>
Â  Â  Â  Â  Â  Â  <p id="modal-review"></p>
Â  Â  Â  Â  Â  Â  <div class="screenshots" id="modal-screenshots"></div>
Â  Â  Â  Â  </div>
Â  Â  </div>

Â  Â  <div id="fullscreen-overlay" style="display: none;"></div>

Â  Â  <script>
Â  Â  Â  Â  const gallery = document.getElementById("game-gallery");
Â  Â  Â  Â  const cards = []; 

Â  Â  Â  Â  // ReferÃªncias do Modal
Â  Â  Â  Â  const modal = document.getElementById("modal");
Â  Â  Â  Â  const closeBtn = document.querySelector(".close-btn");
Â  Â  Â  Â  const modalTitle = document.getElementById("modal-title");
Â  Â  Â  Â  const modalNota = document.getElementById("modal-nota");
Â  Â  Â  Â  const modalReview = document.getElementById("modal-review");
Â  Â  Â  Â  const modalScreenshots = document.getElementById("modal-screenshots");
Â  Â  Â  Â  const fullscreenOverlay = document.getElementById("fullscreen-overlay");

Â  Â  Â  Â  let activeUrls = [];
Â  Â  Â  Â  let currentImageIndex = -1;
Â  Â  Â  Â  let currentGameUnlocked = false;Â 
Â  Â  Â  Â Â 
Â  Â  Â  Â  // --- UTILS: Verifica e Limpa URL ---
Â  Â  Â  Â  function isSpoiler(rawUrl) {
Â  Â  Â  Â  Â  Â  return rawUrl.startsWith("spoiler:");
Â  Â  Â  Â  }
Â  Â  Â  Â  function cleanUrl(rawUrl) {
Â  Â  Â  Â  Â  Â  return isSpoiler(rawUrl) ? rawUrl.substring(8).trim() : rawUrl.trim();
Â  Â  Â  Â  }

Â  Â  Â  Â  // --- FUNÃ‡ÃƒO CENTRAL: CRIAÃ‡ÃƒO DO CARD HTML ---
Â  Â  Â  Â  function createGameCard(game) {
Â  Â  Â  Â  Â  Â  const card = document.createElement('div');
Â  Â  Â  Â  Â  Â  card.classList.add('game-card');
Â  Â  Â  Â  Â  Â  card.setAttribute('data-status', game.status);

Â  Â  Â  Â  Â  Â  card.gameData = game;Â 

Â  Â  Â  Â  Â  Â  // Estrutura do card
Â  Â  Â  Â  Â  Â  card.innerHTML = `
Â  Â  Â  Â  Â  Â  Â  Â  <span class="status-tag">${game.status.charAt(0).toUpperCase() + game.status.slice(1)}</span>
Â  Â  Â  Â  Â  Â  Â  Â  <img src="${game.cover_url}" alt="${game.title}">
Â  Â  Â  Â  Â  Â  Â  Â  <div class="game-info"><h3>${game.title}</h3></div>
Â  Â  Â  Â  Â  Â  `;

Â  Â  Â  Â  Â  Â  // Adicionar evento de clique que abre o modal
Â  Â  Â  Â  Â  Â  card.addEventListener("click", () => {
Â  Â  Â  Â  Â  Â  Â  Â  currentGameUnlocked = false;Â 
Â  Â  Â  Â  Â  Â  Â  Â  modal.style.display = "block";
Â  Â  Â  Â  Â  Â  Â  Â Â 
Â  Â  Â  Â  Â  Â  Â  Â  // Preencher o modal com os dados do gameData
Â  Â  Â  Â  Â  Â  Â  Â  modalTitle.textContent = game.title;
Â  Â  Â  Â  Â  Â  Â  Â  modalNota.textContent = game.nota;
Â  Â  Â  Â  Â  Â  Â  Â Â 
Â  Â  Â  Â  Â  Â  Â  Â  // Trocando <br><br> por <br> para reduzir o espaÃ§amento duplo.
Â  Â  Â  Â  Â  Â  Â  Â  modalReview.innerHTML = game.review.replace(/\n/g, "<br>");Â 
Â  Â  Â  Â  Â  Â  Â  Â Â 
Â  Â  Â  Â  Â  Â  Â  Â  modalScreenshots.innerHTML = "";

Â  Â  Â  Â  Â  Â  Â  Â  activeUrls = game.screens.filter(Boolean); // Pega a lista de URLs de screens
Â  Â  Â  Â  Â  Â  Â  Â Â 
Â  Â  Â  Â  Â  Â  Â  Â  activeUrls.forEach(rawUrl => {
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  const url = cleanUrl(rawUrl);
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  const isImgSpoiler = isSpoiler(rawUrl);

Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  const img = document.createElement("img");
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  img.src = url;
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  img.setAttribute('data-full-url', rawUrl.trim());
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â Â 
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  if (isImgSpoiler) {
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  img.classList.add("spoiler-thumbnail");
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  }
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â Â 
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  if (currentGameUnlocked) {
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  img.classList.remove("spoiler-thumbnail");
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  img.style.filter = 'none';
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  img.style.opacity = '1';
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  img.style.border = 'none';
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  }

Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  img.addEventListener("click", () => openFullscreenGallery(rawUrl.trim()));
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  modalScreenshots.appendChild(img);
Â  Â  Â  Â  Â  Â  Â  Â  });
Â  Â  Â  Â  Â  Â  });

Â  Â  Â  Â  Â  Â  return card;
Â  Â  Â  Â  }

Â  Â  Â  Â  // --- FUNÃ‡ÃƒO PARA FILTRAR OS CARDS ---
Â  Â  Â  Â  function filterGames(status, event) {
Â  Â  Â  Â  Â  Â  const buttons = document.querySelectorAll(".buttons button");
Â  Â  Â  Â  Â  Â  buttons.forEach(btn => btn.classList.remove("active"));
Â  Â  Â  Â  Â  Â  event.target.classList.add("active");

Â  Â  Â  Â  Â  Â  cards.forEach(card => {
Â  Â  Â  Â  Â  Â  Â  Â  card.style.display = (card.dataset.status === status) ? "block" : "none";
Â  Â  Â  Â  Â  Â  });
Â  Â  Â  Â  }
Â  Â  Â  Â Â 
Â  Â  Â  Â  // --- FUNÃ‡ÃƒO CENTRAL DE VERIFICAÃ‡ÃƒO DE SENHA (Global para o Jogo Atual) ---
Â  Â  Â  Â  function checkAndRevealAllSpoilers(passwordInput, overlayElement) {
Â  Â  Â  Â  Â  Â  const enteredPassword = passwordInput.value;
Â  Â  Â  Â  Â  Â  const correctPassword = '123';Â 

Â  Â  Â  Â  Â  Â  if (enteredPassword === correctPassword) {
Â  Â  Â  Â  Â  Â  Â  Â  currentGameUnlocked = true;
Â  Â  Â  Â  Â  Â  Â  Â Â 
Â  Â  Â  Â  Â  Â  Â  Â  const imgElement = overlayElement.closest('#fullscreen-overlay').querySelector('.fullscreen-img');
Â  Â  Â  Â  Â  Â  Â  Â  if (imgElement) {
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  imgElement.classList.remove('blurred');
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  imgElement.style.filter = 'none';
Â  Â  Â  Â  Â  Â  Â  Â  }

Â  Â  Â  Â  Â  Â  Â  Â  overlayElement.classList.add('hidden');

Â  Â  Â  Â  Â  Â  Â  Â  document.querySelectorAll('.screenshots img.spoiler-thumbnail').forEach(thumbnail => {
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  thumbnail.classList.remove('spoiler-thumbnail');
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  thumbnail.style.filter = 'none';
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  thumbnail.style.opacity = '1';
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  thumbnail.style.border = 'none';
Â  Â  Â  Â  Â  Â  Â  Â  });

Â  Â  Â  Â  Â  Â  } else {
Â  Â  Â  Â  Â  Â  Â  Â  alert('Senha incorreta. Tente novamente.');Â 
Â  Â  Â  Â  Â  Â  Â  Â  passwordInput.value = '';
Â  Â  Â  Â  Â  Â  }
Â  Â  Â  Â  }
Â  Â  Â  Â Â 
Â  Â  Â  Â  // --- FUNÃ‡ÃƒO PARA ATUALIZAR A IMAGEM E O ESTADO DO SPOILER NA GALERIA ---
Â  Â  Â  Â  function updateFullscreenImage(rawUrl) {
Â  Â  Â  Â  Â  Â  const isImgSpoiler = isSpoiler(rawUrl);
Â  Â  Â  Â  Â  Â  const url = cleanUrl(rawUrl);
Â  Â  Â  Â  Â  Â Â 
Â  Â  Â  Â  Â  Â  const img = fullscreenOverlay.querySelector('.fullscreen-img');
Â  Â  Â  Â  Â  Â  img.src = url;

Â  Â  Â  Â  Â  Â  let spoilerOverlay = fullscreenOverlay.querySelector('.fullscreen-spoiler-overlay');
Â  Â  Â  Â  Â  Â  if (!spoilerOverlay) {
Â  Â  Â  Â  Â  Â  Â  Â  spoilerOverlay = document.createElement("div");
Â  Â  Â  Â  Â  Â  Â  Â  spoilerOverlay.classList.add("fullscreen-spoiler-overlay");
Â  Â  Â  Â  Â  Â  Â  Â  fullscreenOverlay.appendChild(spoilerOverlay);
Â  Â  Â  Â  Â  Â  }
Â  Â  Â  Â  Â  Â Â 
Â  Â  Â  Â  Â  Â  spoilerOverlay.innerHTML = '';
Â  Â  Â  Â  Â  Â Â 
Â  Â  Â  Â  Â  Â  if (isImgSpoiler && !currentGameUnlocked) {
Â  Â  Â  Â  Â  Â  Â  Â  img.classList.add('blurred');

Â  Â  Â  Â  Â  Â  Â  Â  spoilerOverlay.classList.remove('hidden');
Â  Â  Â  Â  Â  Â  Â  Â  spoilerOverlay.innerHTML = `
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <p>âš ï¸ SPOILER: ${modalTitle.textContent} âš ï¸</p>
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <p>Digite 123 para desbloquear TODAS as imagens de spoiler deste jogo.</p>
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <input type="password" id="fullscreen-spoiler-password" placeholder="Senha" />
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <button id="unlock-spoiler-btn">Desbloquear</button>
Â  Â  Â  Â  Â  Â  Â  Â  `;

Â  Â  Â  Â  Â  Â  Â  Â  spoilerOverlay.querySelector('#unlock-spoiler-btn').onclick = e => {
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  e.stopPropagation();
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  const passwordInput = spoilerOverlay.querySelector('#fullscreen-spoiler-password');
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  checkAndRevealAllSpoilers(passwordInput, spoilerOverlay);
Â  Â  Â  Â  Â  Â  Â  Â  };
Â  Â  Â  Â  Â  Â  } else {
Â  Â  Â  Â  Â  Â  Â  Â  img.classList.remove('blurred');
Â  Â  Â  Â  Â  Â  Â  Â  spoilerOverlay.classList.add('hidden');
Â  Â  Â  Â  Â  Â  }
Â  Â  Â  Â  }
Â  Â  Â  Â Â 
Â  Â  Â  Â  // --- FUNÃ‡ÃƒO PARA ABRIR A GALERIA FULLSCREEN ---
Â  Â  Â  Â  function openFullscreenGallery(currentRawUrl) {
Â  Â  Â  Â  Â  Â Â 
Â  Â  Â  Â  Â  Â  currentImageIndex = activeUrls.indexOf(currentRawUrl);
Â  Â  Â  Â  Â  Â Â 
Â  Â  Â  Â  Â  Â  fullscreenOverlay.innerHTML = '';
Â  Â  Â  Â  Â  Â  fullscreenOverlay.style.display = 'flex';

Â  Â  Â  Â  Â  Â  const img = document.createElement("img");
Â  Â  Â  Â  Â  Â  img.classList.add("fullscreen-img");
Â  Â  Â  Â  Â  Â  fullscreenOverlay.appendChild(img);

Â  Â  Â  Â  Â  Â  const left = document.createElement("div");
Â  Â  Â  Â  Â  Â  left.textContent = "â®";
Â  Â  Â  Â  Â  Â  left.classList.add("gallery-arrow", "arrow-left");
Â  Â  Â  Â  Â  Â  left.onclick = e => { e.stopPropagation(); navigate(-1); };
Â  Â  Â  Â  Â  Â Â 
Â  Â  Â  Â  Â  Â  const right = document.createElement("div");
Â  Â  Â  Â  Â  Â  right.textContent = "â¯";
Â  Â  Â  Â  Â  Â  right.classList.add("gallery-arrow", "arrow-right");
Â  Â  Â  Â  Â  Â  right.onclick = e => { e.stopPropagation(); navigate(1); };
Â  Â  Â  Â  Â  Â Â 
Â  Â  Â  Â  Â  Â  fullscreenOverlay.appendChild(left);
Â  Â  Â  Â  Â  Â  fullscreenOverlay.appendChild(right);
Â  Â  Â  Â  Â  Â Â 
Â  Â  Â  Â  Â  Â  updateFullscreenImage(currentRawUrl);


Â  Â  Â  Â  Â  Â  const navigate = dir => {
Â  Â  Â  Â  Â  Â  Â  Â  currentImageIndex = (currentImageIndex + dir + activeUrls.length) % activeUrls.length;
Â  Â  Â  Â  Â  Â  Â  Â  const nextRawUrl = activeUrls[currentImageIndex];
Â  Â  Â  Â  Â  Â  Â  Â Â 
Â  Â  Â  Â  Â  Â  Â  Â  updateFullscreenImage(nextRawUrl);
Â  Â  Â  Â  Â  Â  };
Â  Â  Â  Â  Â  Â Â 
Â  Â  Â  Â  Â  Â Â 
Â  Â  Â  Â  Â  Â  const handleKey = e => {
Â  Â  Â  Â  Â  Â  Â  Â  if (e.key === "Escape") cleanup();
Â  Â  Â  Â  Â  Â  Â  Â  if (e.key === "ArrowRight" || e.key === "D" || e.key === "d") navigate(1);
Â  Â  Â  Â  Â  Â  Â  Â  if (e.key === "ArrowLeft" || e.key === "A" || e.key === "a") navigate(-1);
Â  Â  Â  Â  Â  Â  };
Â  Â  Â  Â  Â  Â  window.addEventListener("keydown", handleKey);

Â  Â  Â  Â  Â  Â  function cleanup() {
Â  Â  Â  Â  Â  Â  Â  Â  window.removeEventListener("keydown", handleKey);
Â  Â  Â  Â  Â  Â  Â  Â  fullscreenOverlay.style.display = 'none';
Â  Â  Â  Â  Â  Â  Â  Â  fullscreenOverlay.innerHTML = '';
Â  Â  Â  Â  Â  Â  }
Â  Â  Â  Â  Â  Â Â 
Â  Â  Â  Â  Â  Â  fullscreenOverlay.onclick = e => {Â 
Â  Â  Â  Â  Â  Â  Â  Â  const targetIsOverlay = e.target === fullscreenOverlay;
Â  Â  Â  Â  Â  Â  Â  Â  const targetIsImage = e.target === img;
Â  Â  Â  Â  Â  Â  Â  Â  const spoilerOverlayVisible = fullscreenOverlay.querySelector('.fullscreen-spoiler-overlay:not(.hidden)');

Â  Â  Â  Â  Â  Â  Â  Â  if (targetIsOverlay || (targetIsImage && !spoilerOverlayVisible)) {
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  cleanup();Â 
Â  Â  Â  Â  Â  Â  Â  Â  }
Â  Â  Â  Â  Â  Â  };
Â  Â  Â  Â  }
Â  Â  Â  Â Â 
Â  Â  Â  Â  /* ğŸš€ NOVO CÃ“DIGO AQUI: FUNÃ‡Ã•ES DE ACESSIBILIDADE VISUAL ğŸš€ */
Â  Â  Â  Â  
Â  Â  Â  Â  // --- FUNÃ‡ÃƒO PARA ATUALIZAR O MODO VISUAL ---
Â  Â  Â  Â  function setVisualMode(mode) {
Â  Â  Â  Â  Â  Â  const body = document.body;
Â  Â  Â  Â  Â  Â  
Â  Â  Â  Â  Â  Â  // 1. Remove todas as classes de modo visual
Â  Â  Â  Â  Â  Â  body.classList.remove('sepia', 'high-contrast');

Â  Â  Â  Â  Â  Â  // 2. Adiciona a classe do modo selecionado (se nÃ£o for 'default')
Â  Â  Â  Â  Â  Â  if (mode !== 'default') {
Â  Â  Â  Â  Â  Â  Â  Â  body.classList.add(mode);
Â  Â  Â  Â  Â  Â  }
Â  Â  Â  Â  Â  Â  
Â  Â  Â  Â  Â  Â  // 3. Salva a preferÃªncia no armazenamento local
Â  Â  Â  Â  Â  Â  localStorage.setItem('visualMode', mode);
Â  Â  Â  Â  }

Â  Â  Â  Â  // --- FUNÃ‡ÃƒO PARA CARREGAR A PREFERÃŠNCIA E SINCRONIZAR O SELECT ---
Â  Â  Â  Â  function loadVisualModePreference() {
Â  Â  Â  Â  Â  Â  const savedMode = localStorage.getItem('visualMode') || 'default';
Â  Â  Â  Â  Â  Â  
Â  Â  Â  Â  Â  Â  // Aplica a classe salva no body
Â  Â  Â  Â  Â  Â  setVisualMode(savedMode); 
Â  Â  Â  Â  Â  Â  
Â  Â  Â  Â  Â  Â  // Sincroniza o dropdown para refletir o estado atual
Â  Â  Â  Â  Â  Â  const select = document.getElementById('visual-mode-select');
Â  Â  Â  Â  Â  Â  if (select) {
Â  Â  Â  Â  Â  Â  Â  Â  select.value = savedMode;
Â  Â  Â  Â  Â  Â  }
Â  Â  Â  Â  }
Â  Â  Â  Â  /* FIM NOVO CÃ“DIGO */

Â  Â  Â  Â  // --- FUNÃ‡ÃƒO PRINCIPAL: CARREGAR DADOS, ORDENAR E INICIALIZAR ---
Â  Â  Â  Â  async function loadAndRenderGames() {
Â  Â  Â  Â  Â  Â  try {
Â  Â  Â  Â  Â  Â  Â  Â  // 1. Carregar o JSON
Â  Â  Â  Â  Â  Â  Â  Â  const response = await fetch('reviews.json');
Â  Â  Â  Â  Â  Â  Â  Â  const games = await response.json();

Â  Â  Â  Â  Â  Â  Â  Â  // 2. Ordenar Alfabeticamente (aqui estÃ¡ a mÃ¡gica da organizaÃ§Ã£o)
Â  Â  Â  Â  Â  Â  Â  Â  games.sort((a, b) => a.title.localeCompare(b.title));

Â  Â  Â  Â  Â  Â  Â  Â  // 3. Criar os Cards e Adicionar Ã  Galeria
Â  Â  Â  Â  Â  Â  Â  Â  games.forEach(game => {
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  const card = createGameCard(game);
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  cards.push(card); // Adiciona ao array para que o filtro funcione
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  gallery.appendChild(card);
Â  Â  Â  Â  Â  Â  Â  Â  });

Â  Â  Â  Â  Â  Â  Â  Â  // 4. Inicializar o Filtro (mostra a categoria 'jogando' por padrÃ£o)
Â  Â  Â  Â  Â  Â  Â  Â  const activeButton = document.querySelector(".buttons button.active");
Â  Â  Â  Â  Â  Â  Â  Â  if (activeButton) {
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  filterGames('jogando', { target: activeButton });
Â  Â  Â  Â  Â  Â  Â  Â  }

Â  Â  Â  Â  Â  Â  } catch (error) {
Â  Â  Â  Â  Â  Â  Â  Â  console.error("Erro ao carregar ou renderizar os jogos:", error);
Â  Â  Â  Â  Â  Â  Â  Â  // Opcional: Mostrar uma mensagem de erro na tela para o usuÃ¡rio
Â  Â  Â  Â  Â  Â  Â  Â  gallery.innerHTML = '<p style="text-align: center; color: #e50914;">Erro ao carregar os dados dos jogos. Verifique o arquivo reviews.json.</p>';
Â  Â  Â  Â  Â  Â  }
Â  Â  Â  Â  }
Â  Â  Â  Â Â 
Â  Â  Â  Â  // Inicializa o processo
Â  Â  Â  Â  closeBtn.addEventListener("click", () => modal.style.display = "none");
Â  Â  Â  Â  window.addEventListener("click", e => { if (e.target === modal) modal.style.display = "none"; });

Â  Â  Â  Â  loadVisualModePreference(); // ğŸš€ NOVO: Carrega a preferÃªncia de cor ANTES de renderizar
Â  Â  Â  Â  loadAndRenderGames(); 
Â  Â  Â  Â Â 
Â  Â  Â  Â  // Disponibilizar as funÃ§Ãµes globalmente
Â  Â  Â  Â  window.filterGames = filterGames;
Â  Â  Â  Â  window.setVisualMode = setVisualMode;
Â  Â  Â  Â Â 
Â  Â  </script>
</body>
</html>
